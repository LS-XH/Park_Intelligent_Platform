# 车辆智能控制

## 数据结构设计

物理量
$$
position=\begin{bmatrix}x_1 & y_1\\x_2 & y_2\\x_3 & ...\end{bmatrix}~~~~~~~~~
velocity=\begin{bmatrix}\omega_1 & \theta_1\\\omega_2 & \theta_2\\\omega_3 & ...\end{bmatrix}
$$

车道相对值，与全局坐标的线性变换
$$
车道纵向=\begin{bmatrix}a\\b\end{bmatrix}~~~~~~~~~车道横向=\begin{bmatrix}-b\\a\end{bmatrix}\\\\
R=\begin{bmatrix}a&-b\\b&a\end{bmatrix}~~~~~~~~
R^{-1}=\frac{1}{a^2+b^2}\begin{bmatrix}a&b\\-b&a\end{bmatrix}\\\\

相对向量\rightarrow全局向量：\vec{e}=R~\cdot~\vec{e'}\\
全局向量\rightarrow相对向量：\vec{e'}=R^{-1}\cdot~\vec{e}
$$


## 功能设计

### 策略

- #### CAV分组策略

     某一时刻开始，统计一组要到同一车道的车辆

- #### 直行策略

     lane=get_lane时

- #### 变道策略

     lane！=get_lane时

### 趋势

- #### 前行趋势

- #### 限速抑制

- #### 避障

- #### CAV组内对齐策略

     - 按照路口转向的方向进行分组，排列
          $$
          \Sigma~\alpha[(p_i-p_j-r_{ij})-\beta(v_i-v_j)]
          $$
          

- #### CAV避障

$$
\Sigma~\alpha[(p_i-p_j-r_{ij})-\beta(v_i-v_j)]\cdot
$$

- #### Leader变道偏向

#### 检测红绿灯

### 路口

